Девятая группа вопросов является завершающей и охватывает аспекты **архитектуры**, **администрирования**, **безопасности** и **взаимодействия с прикладным кодом** (в частности, PHP).

---

### 1. Основные особенности архитектуры клиент-сервер и трехзвенной архитектуры

*   **Клиент-сервер (Двухзвенная):**
    *   **Принцип:** Клиентское приложение (толстый клиент) напрямую взаимодействует с сервером базы данных.
    *   **Особенности:** Вся логика приложения находится на стороне клиента, а БД только хранит данные и выполняет запросы.
    *   **Минусы:** Сложность обновления (нужно обновлять ПО у всех пользователей), низкая безопасность (клиент знает реквизиты доступа к БД).
*   **Трехзвенная архитектура (Three-tier):**
    1.  **Уровень представления (Клиент):** Обычно веб-браузер, отвечает за интерфейс.
    2.  **Уровень приложения (Сервер приложений):** Здесь работает серверный код (PHP, Python, Java), который содержит бизнес-логику.
    3.  **Уровень данных (Сервер БД):** Только хранение и управление данными.
    *   **Плюсы:** Высокая безопасность, масштабируемость, централизованное обновление логики.

---

### 2. SQL-команды работы с объектами БД, таблицами и типами данных

*   **Основные типы данных:**
    *   Числовые: `INT`, `BIGINT`, `DECIMAL(p,s)`.
    *   Символьные: `CHAR(n)` (фикс.), `VARCHAR(n)` (перем.), `TEXT`.
    *   Дата/Время: `DATE`, `DATETIME`, `TIMESTAMP`.
*   **Работа с таблицами:**
    *   **Создание:** `CREATE TABLE name (col1 type constraint, ...);`
    *   **Удаление:** `DROP TABLE name;`
    *   **Модификация:** `ALTER TABLE name ADD column type;` или `ALTER TABLE name DROP COLUMN col;`.
*   **Ключи и связи:**
    *   **Первичный ключ:** `PRIMARY KEY (id)` — уникальный идентификатор.
    *   **Внешний ключ:** `FOREIGN KEY (id_group) REFERENCES Groups(id)` — связывает таблицы.

---

### 3. Работа с индексами и представлениями (Views)

*   **Индексы:**
    *   **Создание:** `CREATE INDEX idx_name ON table(col);`
    *   **Удаление:** `DROP INDEX idx_name;`
    *   **Восстановление:** В ряде СУБД используется `REINDEX` или `ALTER INDEX ... REBUILD` для устранения фрагментации.
*   **Представления (Views):**
    *   **Создание:** `CREATE VIEW view_name AS SELECT ...;`
    *   **Назначение:** Скрытие сложности запросов и ограничение доступа к определенным столбцам.
    *   **Удаление:** `DROP VIEW view_name;`

---

### 4. Программирование в БД: Триггеры, Процедуры и Функции

*   **Триггеры:**
    *   **Назначение:** Автоматическое выполнение действий при вставке, обновлении или удалении данных.
    *   **Пример:** `CREATE TRIGGER name BEFORE INSERT ON table FOR EACH ROW BEGIN ... END;`
*   **Хранимые процедуры:**
    *   **Синтаксис:** `CREATE PROCEDURE name (IN param1 type) AS BEGIN ... END;`
    *   **Вызов:** `CALL name(value);` или `EXEC name;`.
*   **Функции пользователя:**
    *   **Синтаксис:** `CREATE FUNCTION name(p type) RETURNS type AS ...`
    *   **Отличие:** Обязательно возвращают значение и могут вызываться прямо в `SELECT`.

---

### 5. Транзакции и точки сохранения (Savepoints)

*   **Транзакция:** Группа команд, выполняемая как единое целое.
    *   `BEGIN TRANSACTION;` (или `START TRANSACTION;`)
    *   `COMMIT;` — зафиксировать изменения.
    *   `ROLLBACK;` — отменить всё.
*   **Точки сохранения:** Позволяют откатиться не в самое начало, а к промежуточной метке.
    *   `SAVEPOINT mark1;`
    *   `ROLLBACK TO mark1;`

---

### 6. Управление доступом: Пользователи и Привилегии (DCL)

*   **Создание пользователя:** `CREATE USER 'username'@'host' IDENTIFIED BY 'password';`
*   **Назначение прав:** `GRANT SELECT, INSERT ON db_name.* TO 'username'@'host';`
*   **Отзыв прав:** `REVOKE UPDATE ON db_name.* FROM 'username'@'host';`

---

### 7. Инструменты для разработки и администрирования

*   **Графические клиенты (IDE):**
    *   **DBeaver:** Универсальный инструмент для всех БД.
    *   **MySQL Workbench / pgAdmin:** Специализированные средства для MySQL и PostgreSQL.
    *   **phpMyAdmin:** Веб-интерфейс для управления MySQL.
*   **Консольные утилиты:** `mysql`, `psql`, `sqlplus`.

---

### 8. Элементы языка Transact-SQL (T-SQL)

T-SQL — расширение SQL от Microsoft (MS SQL Server).
*   **Переменные:** `DECLARE @id INT; SET @id = 5;`
*   **Условия:** `IF ... ELSE ...`
*   **Циклы:** `WHILE ... BEGIN ... END;`
*   **Глобальные переменные:** `@@ROWCOUNT` (число затронутых строк), `@@ERROR`.

---

### 9. Функции PHP для работы с БД

Для взаимодействия PHP с базой данных используются два основных подхода:
1.  **PDO (PHP Data Objects):** Универсальный интерфейс для любой БД.
    *   `$pdo = new PDO($dsn, $user, $pass);`
    *   `$stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");`
    *   `$stmt->execute([$id]);`
2.  **mysqli (только для MySQL):**
    *   `$conn = mysqli_connect($host, $user, $pass, $db);`
    *   `$result = mysqli_query($conn, "SELECT ...");`
    *   `$row = mysqli_fetch_assoc($result);`
*   **Важно:** Всегда используйте **подготавливаемые выражения** (Prepared Statements) для защиты от **SQL-инъекций**.

---

**Поздравляю! Вы разобрали все 9 групп вопросов.** Этого объема знаний достаточно для успешной сдачи экзамена по дисциплине «Базы данных» и «Информационные системы». Удачи на сессии!
